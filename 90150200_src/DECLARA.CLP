////////////////////////////////////////////////////////////////////////////////////////////////
//Historico de revisoes
////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////
//Programa:     9015
//Versao:       02
//Revisao       00
//Data:         14/02/2013
//Autor:        Fernando Branquinho
//Descricao:    Maquina de tampar potes com nova estrutura CLP
//
//90150200.0    Modificado o numero de versao e revisao no software





////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Entradas digitais
////////////////////////////////////////////////////////////////////////////////////////////////

    CAMPO_ENTRADA_DIGITAL(entradaCilindroRecuado)
    CAMPO_ENTRADA_DIGITAL(entradaPoteEmbaixoDoCilindro)
    CAMPO_ENTRADA_DIGITAL(entradaReserva3)
    CAMPO_ENTRADA_DIGITAL(entradaReserva4)
    CAMPO_ENTRADA_DIGITAL(entradaReserva5)
    CAMPO_ENTRADA_DIGITAL(entradaReserva6)
    CAMPO_ENTRADA_DIGITAL(entradaReserva7)
    CAMPO_ENTRADA_DIGITAL(entradaReserva8)

////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Saidas digitais
////////////////////////////////////////////////////////////////////////////////////////////////

    CAMPO_SAIDA_DIGITAL(saidaAvancaCilindro)
    CAMPO_SAIDA_DIGITAL(saidaRecuaCilindro)
    CAMPO_SAIDA_DIGITAL(saidaLigaMotorEsteira)
    CAMPO_SAIDA_DIGITAL(saidaReserva4)
    CAMPO_SAIDA_DIGITAL(saidaReserva5)
    CAMPO_SAIDA_DIGITAL(saidaReserva6)
    CAMPO_SAIDA_DIGITAL(saidaReserva7)
    CAMPO_SAIDA_DIGITAL(saidaReserva8)
    
////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Entradas analogicas
////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Saidas analogicas
////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Entradas de temperatura
//////////////////////////////////////////////////////////////////////////////////////////////// 


////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Botoes na IHM
//////////////////////////////////////////////////////////////////////////////////////////////// 

        CAMPO_BOTAO_IHM(teclaStart,tecla_S)
        CAMPO_BOTAO_IHM(teclaRecuaCilindro,tecla_R)
        CAMPO_BOTAO_IHM(teclaAvancaCilindro,tecla_F)
        CAMPO_BOTAO_IHM(teclaLigaMotorEsteira,tecla_E)
        
        CAMPO_BOTAO_IHM(teclaDesligaMotorEsteira,tecla_D)
        CAMPO_BOTAO_IHM(teclaSelecaoModoAutomatico,tecla_A)
        CAMPO_BOTAO_IHM(teclaSelecaoModoManual,tecla_M)

////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Campos e variaveis organizados por funcao
////////////////////////////////////////////////////////////////////////////////////////////////

//Identificacao do programa
///////////////////////////

        CAMPO_INT(programa)
        CAMPO_INT(versao)
        CAMPO_INT(revisao)

//Gerais
////////

        CAMPO_INT(modoOperacao)         
        SINAL_DIGITAL(manual)           
        SINAL_DIGITAL(aux)              
        CAMPO_INT(sinoptico)            
                                            
//Cilindro
//////////

        CAMPO_INT(duracaoAvancoCilindro)
        TEMPORIZADOR(duracaoAvancoCilindro,duracaoAvancoCilindro)

        SINAL_DIGITAL(solicAvancaCilindro)
        SINAL_DIGITAL(comandoAvancaCilindro)
        
        SINAL_DIGITAL(solicRecuaCilindro)
        SINAL_DIGITAL(comandoRecuaCilindro)

        SINAL_DIGITAL(cilindroRecuado)
        SINAL_DIGITAL(cilindroAvancado)
        SINAL_DIGITAL(poteEmbaixoDoCilindro)
        SINAL_DIGITAL(poteChegouEmbaixoCilindro)

//Esteira
/////////

        SINAL_DIGITAL(solicLigaMotorEsteira)
        SINAL_DIGITAL(comandoLigaMotorEsteira)
        SINAL_DIGITAL(solicDesligaMotorEsteira)

////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Entradas digitais virtuais
////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Alarmes
////////////////////////////////////////////////////////////////////////////////////////////////

        CAMPO_ALARME(alarmeCilindroNaoRecuado,"Cilindro nao recuado")
        CAMPO_ALARME(alarmeCilindroRecuado,"Cilindro recuado")
        CAMPO_ALARME(alarmeTentativaOperacaoManualEmAutomatico,"Funcao permitida somente em modo manual")

        //Niveis de alarme

        SINAL_DIGITAL(alarmeNivel1)           //Informativo
        SINAL_DIGITAL(alarmeNivel2)           //Impede inicio do ciclo em automatico
        SINAL_DIGITAL(alarmeNivel3)           //Desliga motor
        SINAL_DIGITAL(alarmeNivel4)           //Interrompe todos os movimentos

////////////////////////////////////////////////////////////////////////////////////////////////
// Declaracao Sequenciamento automatico
////////////////////////////////////////////////////////////////////////////////////////////////

        SINAL_DIGITAL(autoEsperandoStart)
        SINAL_DIGITAL(autoRecuaCilindro)
        SINAL_DIGITAL(autoLigaMotorEsteira)
        SINAL_DIGITAL(autoAvancaCilindro)
        SINAL_DIGITAL(autoFimCiclo)
